<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>jquery.multiselect.min.js - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../";
</script>

<script src="../../../js/jquery.js"></script>
<script src="../../../js/darkfish.js"></script>

<link href="../../../css/fonts.css" rel="stylesheet">
<link href="../../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../../table_of_contents.html#pages">Pages</a>
    <a href="../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../../Capfile.html">Capfile</a>
  
    <li><a href="../../../Gemfile.html">Gemfile</a>
  
    <li><a href="../../../Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../../README_md.html">README</a>
  
    <li><a href="../../../README_rdoc.html">README</a>
  
    <li><a href="../../../Rakefile.html">Rakefile</a>
  
    <li><a href="../../../app/assets/javascripts/application_js.html">application.js</a>
  
    <li><a href="../../../app/assets/javascripts/bootstrap-multiselect_js.html">bootstrap-multiselect.js</a>
  
    <li><a href="../../../app/assets/javascripts/jquery_multiselect_min_js.html">jquery.multiselect.min.js</a>
  
    <li><a href="../../../app/assets/stylesheets/bootstrap-multiselect_css.html">bootstrap-multiselect.css</a>
  
    <li><a href="../../../app/views/options/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/options/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/placement_exams/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/placement_exams/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/qusetions/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/qusetions/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../config_ru.html">config.ru</a>
  
    <li><a href="../../../config/deploy_rb_save.html">deploy.rb.save</a>
  
    <li><a href="../../../log/development_log.html">development.log</a>
  
    <li><a href="../../../public/404_html.html">404.html</a>
  
    <li><a href="../../../public/422_html.html">422.html</a>
  
    <li><a href="../../../public/500_html.html">500.html</a>
  
    <li><a href="../../../public/favicon_ico.html">favicon.ico</a>
  
    <li><a href="../../../public/robots_txt.html">robots</a>
  
    <li><a href="../../../vendor/assets/fonts/glyphicons-halflings-regular_svg.html">glyphicons-halflings-regular.svg</a>
  
    <li><a href="../../../vendor/assets/javascripts/highcharts_js.html">highcharts.js</a>
  
    <li><a href="../../../vendor/assets/javascripts/vendor_js.html">vendor.js</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page app/assets/javascripts/jquery.multiselect.min.js">

<pre class="ruby"><span class="ruby-identifier">jshint</span> <span class="ruby-identifier">forin</span>:<span class="ruby-keyword">true</span>, <span class="ruby-identifier">noarg</span>:<span class="ruby-keyword">true</span>, <span class="ruby-identifier">noempty</span>:<span class="ruby-keyword">true</span>, <span class="ruby-identifier">eqeqeq</span>:<span class="ruby-keyword">true</span>, <span class="ruby-identifier">boss</span>:<span class="ruby-keyword">true</span>, <span class="ruby-keyword">undef</span>:<span class="ruby-keyword">true</span>, <span class="ruby-identifier">curly</span>:<span class="ruby-keyword">true</span>, <span class="ruby-identifier">browser</span>:<span class="ruby-keyword">true</span>, <span class="ruby-identifier">jquery</span>:<span class="ruby-keyword">true</span>
</pre>

<p>/*</p>

<pre>  jQuery MultiSelect UI Widget 1.13
  Copyright (c) 2012 Eric Hynds

  http://www.erichynds.com/jquery/jquery-ui-multiselect-widget/

  Depends:
    - jQuery 1.4.2+
    - jQuery UI 1.8 widget factory

  Optional:
    - jQuery UI effects
    - jQuery UI position utility

  Dual licensed under the MIT and GPL licenses:
    http://www.opensource.org/licenses/mit-license.php
    http://www.gnu.org/licenses/gpl.html

/</pre>

<p>(function($, undefined){</p>

<p>var multiselectID = 0;</p>

<p>$.widget(“ech.multiselect”, {</p>

<pre>      // default options
      options: {
              header: true,
              height: 175,
              minWidth: 225,
              classes: &#39;&#39;,
              checkAllText: &#39;Check all&#39;,
              uncheckAllText: &#39;Uncheck all&#39;,
              noneSelectedText: &#39;Select options&#39;,
              selectedText: &#39;# selected&#39;,
              selectedList: 0,
              show: null,
              hide: null,
              autoOpen: false,
              multiple: true,
              position: {}
      },

      _create: function(){
              var el = this.element.hide(),
                      o = this.options;

              this.speed = $.fx.speeds._default; // default speed for effects
              this._isOpen = false; // assume no

              var
                      button = (this.button = $(&#39;&lt;button type=&quot;button&quot;&gt;&lt;span class=&quot;ui-icon ui-icon-triangle-2-n-s&quot;&gt;&lt;/span&gt;&lt;/button&gt;&#39;))
                              .addClass(&#39;ui-multiselect ui-widget ui-state-default ui-corner-all&#39;)
                              .addClass( o.classes )
                              .attr({ &#39;title&#39;:el.attr(&#39;title&#39;), &#39;aria-haspopup&#39;:true, &#39;tabIndex&#39;:el.attr(&#39;tabIndex&#39;) })
                              .insertAfter( el ),

                      buttonlabel = (this.buttonlabel = $(&#39;&lt;span /&gt;&#39;))
                              .html( o.noneSelectedText )
                              .appendTo( button ),

                      menu = (this.menu = $(&#39;&lt;div /&gt;&#39;))
                              .addClass(&#39;ui-multiselect-menu ui-widget ui-widget-content ui-corner-all&#39;)
                              .addClass( o.classes )
                              .appendTo( document.body ),

                      header = (this.header = $(&#39;&lt;div /&gt;&#39;))
                              .addClass(&#39;ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix&#39;)
                              .appendTo( menu ),

                      headerLinkContainer = (this.headerLinkContainer = $(&#39;&lt;ul /&gt;&#39;))
                              .addClass(&#39;ui-helper-reset&#39;)
                              .html(function(){
                                      if( o.header === true ){
                                              return &#39;&lt;li&gt;&lt;a class=&quot;ui-multiselect-all&quot; href=&quot;#&quot;&gt;&lt;span class=&quot;ui-icon ui-icon-check&quot;&gt;&lt;/span&gt;&lt;span&gt;&#39; + o.checkAllText + &#39;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ui-multiselect-none&quot; href=&quot;#&quot;&gt;&lt;span class=&quot;ui-icon ui-icon-closethick&quot;&gt;&lt;/span&gt;&lt;span&gt;&#39; + o.uncheckAllText + &#39;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#39;;
                                      } else if(typeof o.header === &quot;string&quot;){
                                              return &#39;&lt;li&gt;&#39; + o.header + &#39;&lt;/li&gt;&#39;;
                                      } else {
                                              return &#39;&#39;;
                                      }
                              })
                              .append(&#39;&lt;li class=&quot;ui-multiselect-close&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;ui-multiselect-close&quot;&gt;&lt;span class=&quot;ui-icon ui-icon-circle-close&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#39;)
                              .appendTo( header ),

                      checkboxContainer = (this.checkboxContainer = $(&#39;&lt;ul /&gt;&#39;))
                              .addClass(&#39;ui-multiselect-checkboxes ui-helper-reset&#39;)
                              .appendTo( menu );

              // perform event bindings
              this._bindEvents();

              // build menu
              this.refresh( true );

              // some addl. logic for single selects
              if( !o.multiple ){
                      menu.addClass(&#39;ui-multiselect-single&#39;);
              }
      },

      _init: function(){
              if( this.options.header === false ){
                      this.header.hide();
              }
              if( !this.options.multiple ){
                      this.headerLinkContainer.find(&#39;.ui-multiselect-all, .ui-multiselect-none&#39;).hide();
              }
              if( this.options.autoOpen ){
                      this.open();
              }
              if( this.element.is(&#39;:disabled&#39;) ){
                      this.disable();
              }
      },

      refresh: function( init ){
              var el = this.element,
                      o = this.options,
                      menu = this.menu,
                      checkboxContainer = this.checkboxContainer,
                      optgroups = [],
                      html = &quot;&quot;,
                      id = el.attr(&#39;id&#39;) || multiselectID++; // unique ID for the label &amp; option tags

              // build items
              el.find(&#39;option&#39;).each(function( i ){
                      var $this = $(this),
                              parent = this.parentNode,
                              title = this.innerHTML,
                              description = this.title,
                              value = this.value,
                              inputID = &#39;ui-multiselect-&#39; + (this.id || id + &#39;-option-&#39; + i),
                              isDisabled = this.disabled,
                              isSelected = this.selected,
                              labelClasses = [ &#39;ui-corner-all&#39; ],
                              liClasses = (isDisabled ? &#39;ui-multiselect-disabled &#39; : &#39; &#39;) + this.className,
                              optLabel;

                      // is this an optgroup?
                      if( parent.tagName === &#39;OPTGROUP&#39; ){
                              optLabel = parent.getAttribute( &#39;label&#39; );

                              // has this optgroup been added already?
                              if( $.inArray(optLabel, optgroups) === -1 ){
                                      html += &#39;&lt;li class=&quot;ui-multiselect-optgroup-label &#39; + parent.className + &#39;&quot;&gt;&lt;a href=&quot;#&quot;&gt;&#39; + optLabel + &#39;&lt;/a&gt;&lt;/li&gt;&#39;;
                                      optgroups.push( optLabel );
                              }
                      }

                      if( isDisabled ){
                              labelClasses.push( &#39;ui-state-disabled&#39; );
                      }

                      // browsers automatically select the first option
                      // by default with single selects
                      if( isSelected &amp;&amp; !o.multiple ){
                              labelClasses.push( &#39;ui-state-active&#39; );
                      }

                      html += &#39;&lt;li class=&quot;&#39; + liClasses + &#39;&quot;&gt;&#39;;

                      // create the label
                      html += &#39;&lt;label for=&quot;&#39; + inputID + &#39;&quot; title=&quot;&#39; + description + &#39;&quot; class=&quot;&#39; + labelClasses.join(&#39; &#39;) + &#39;&quot;&gt;&#39;;
                      html += &#39;&lt;input id=&quot;&#39; + inputID + &#39;&quot; name=&quot;multiselect_&#39; + id + &#39;&quot; type=&quot;&#39; + (o.multiple ? &quot;checkbox&quot; : &quot;radio&quot;) + &#39;&quot; value=&quot;&#39; + value + &#39;&quot; title=&quot;&#39; + title + &#39;&quot;&#39;;

                      // pre-selected?
                      if( isSelected ){
                              html += &#39; checked=&quot;checked&quot;&#39;;
                              html += &#39; aria-selected=&quot;true&quot;&#39;;
                      }

                      // disabled?
                      if( isDisabled ){
                              html += &#39; disabled=&quot;disabled&quot;&#39;;
                              html += &#39; aria-disabled=&quot;true&quot;&#39;;
                      }

                      // add the title and close everything off
                      html += &#39; /&gt;&lt;span&gt;&#39; + title + &#39;&lt;/span&gt;&lt;/label&gt;&lt;/li&gt;&#39;;
              });

              // insert into the DOM
              checkboxContainer.html( html );

              // cache some moar useful elements
              this.labels = menu.find(&#39;label&#39;);
              this.inputs = this.labels.children(&#39;input&#39;);

              // set widths
              this._setButtonWidth();
              this._setMenuWidth();

              // remember default value
              this.button[0].defaultValue = this.update();

              // broadcast refresh event; useful for widgets
              if( !init ){
                      this._trigger(&#39;refresh&#39;);
              }
      },

      // updates the button text. call refresh() to rebuild
      update: function(){
              var o = this.options,
                      $inputs = this.inputs,
                      $checked = $inputs.filter(&#39;:checked&#39;),
                      numChecked = $checked.length,
                      value;

              if( numChecked === 0 ){
                      value = o.noneSelectedText;
              } else {
                      if($.isFunction( o.selectedText )){
                              value = o.selectedText.call(this, numChecked, $inputs.length, $checked.get());
                      } else if( /\d/.test(o.selectedList) &amp;&amp; o.selectedList &gt; 0 &amp;&amp; numChecked &lt;= o.selectedList){
                              value = $checked.map(function(){ return $(this).next().html(); }).get().join(&#39;, &#39;);
                      } else {
                              value = o.selectedText.replace(&#39;#&#39;, numChecked).replace(&#39;#&#39;, $inputs.length);
                      }
              }

              this.buttonlabel.html( value );
              return value;
      },

      // binds events
      _bindEvents: function(){
              var self = this, button = this.button;

              function clickHandler(){
                      self[ self._isOpen ? &#39;close&#39; : &#39;open&#39; ]();
                      return false;
              }

              // webkit doesn&#39;t like it when you click on the span :(
              button
                      .find(&#39;span&#39;)
                      .bind(&#39;click.multiselect&#39;, clickHandler);

              // button events
              button.bind({
                      click: clickHandler,
                      keypress: function( e ){
                              switch(e.which){
                                      case 27: // esc
                                      case 38: // up
                                      case 37: // left
                                              self.close();
                                              break;
                                      case 39: // right
                                      case 40: // down
                                              self.open();
                                              break;
                              }
                      },
                      mouseenter: function(){
                              if( !button.hasClass(&#39;ui-state-disabled&#39;) ){
                                      $(this).addClass(&#39;ui-state-hover&#39;);
                              }
                      },
                      mouseleave: function(){
                              $(this).removeClass(&#39;ui-state-hover&#39;);
                      },
                      focus: function(){
                              if( !button.hasClass(&#39;ui-state-disabled&#39;) ){
                                      $(this).addClass(&#39;ui-state-focus&#39;);
                              }
                      },
                      blur: function(){
                              $(this).removeClass(&#39;ui-state-focus&#39;);
                      }
              });

              // header links
              this.header
                      .delegate(&#39;a&#39;, &#39;click.multiselect&#39;, function( e ){
                              // close link
                              if( $(this).hasClass(&#39;ui-multiselect-close&#39;) ){
                                      self.close();

                              // check all / uncheck all
                              } else {
                                      self[ $(this).hasClass(&#39;ui-multiselect-all&#39;) ? &#39;checkAll&#39; : &#39;uncheckAll&#39; ]();
                              }

                              e.preventDefault();
                      });

              // optgroup label toggle support
              this.menu
                      .delegate(&#39;li.ui-multiselect-optgroup-label a&#39;, &#39;click.multiselect&#39;, function( e ){
                              e.preventDefault();

                              var $this = $(this),
                                      $inputs = $this.parent().nextUntil(&#39;li.ui-multiselect-optgroup-label&#39;).find(&#39;input:visible:not(:disabled)&#39;),
                                      nodes = $inputs.get(),
                                      label = $this.parent().text();

                              // trigger event and bail if the return is false
                              if( self._trigger(&#39;beforeoptgrouptoggle&#39;, e, { inputs:nodes, label:label }) === false ){
                                      return;
                              }

                              // toggle inputs
                              self._toggleChecked(
                                      $inputs.filter(&#39;:checked&#39;).length !== $inputs.length,
                                      $inputs
                              );

                              self._trigger(&#39;optgrouptoggle&#39;, e, {
                                  inputs: nodes,
                                  label: label,
                                  checked: nodes[0].checked
                              });
                      })
                      .delegate(&#39;label&#39;, &#39;mouseenter.multiselect&#39;, function(){
                              if( !$(this).hasClass(&#39;ui-state-disabled&#39;) ){
                                      self.labels.removeClass(&#39;ui-state-hover&#39;);
                                      $(this).addClass(&#39;ui-state-hover&#39;).find(&#39;input&#39;).focus();
                              }
                      })
                      .delegate(&#39;label&#39;, &#39;keydown.multiselect&#39;, function( e ){
                              e.preventDefault();

                              switch(e.which){
                                      case 9: // tab
                                      case 27: // esc
                                              self.close();
                                              break;
                                      case 38: // up
                                      case 40: // down
                                      case 37: // left
                                      case 39: // right
                                              self._traverse(e.which, this);
                                              break;
                                      case 13: // enter
                                              $(this).find(&#39;input&#39;)[0].click();
                                              break;
                              }
                      })
                      .delegate(&#39;input[type=&quot;checkbox&quot;], input[type=&quot;radio&quot;]&#39;, &#39;click.multiselect&#39;, function( e ){
                              var $this = $(this),
                                      val = this.value,
                                      checked = this.checked,
                                      tags = self.element.find(&#39;option&#39;);

                              // bail if this input is disabled or the event is cancelled
                              if( this.disabled || self._trigger(&#39;click&#39;, e, { value: val, text: this.title, checked: checked }) === false ){
                                      e.preventDefault();
                                      return;
                              }

                              // make sure the input has focus. otherwise, the esc key
                              // won&#39;t close the menu after clicking an item.
                              $this.focus();

                              // toggle aria state
                              $this.attr(&#39;aria-selected&#39;, checked);

                              // change state on the original option tags
                              tags.each(function(){
                                      if( this.value === val ){
                                              this.selected = checked;
                                      } else if( !self.options.multiple ){
                                              this.selected = false;
                                      }
                              });

                              // some additional single select-specific logic
                              if( !self.options.multiple ){
                                      self.labels.removeClass(&#39;ui-state-active&#39;);
                                      $this.closest(&#39;label&#39;).toggleClass(&#39;ui-state-active&#39;, checked );

                                      // close menu
                                      self.close();
                              }

                              // fire change on the select box
                              self.element.trigger(&quot;change&quot;);

                              // setTimeout is to fix multiselect issue #14 and #47. caused by jQuery issue #3827
                              // http://bugs.jquery.com/ticket/3827
                              setTimeout($.proxy(self.update, self), 10);
                      });

              // close each widget when clicking on any other element/anywhere else on the page
              $(document).bind(&#39;mousedown.multiselect&#39;, function( e ){
                      if(self._isOpen &amp;&amp; !$.contains(self.menu[0], e.target) &amp;&amp; !$.contains(self.button[0], e.target) &amp;&amp; e.target !== self.button[0]){
                              self.close();
                      }
              });

              // deal with form resets.  the problem here is that buttons aren&#39;t
              // restored to their defaultValue prop on form reset, and the reset
              // handler fires before the form is actually reset.  delaying it a bit
              // gives the form inputs time to clear.
              $(this.element[0].form).bind(&#39;reset.multiselect&#39;, function(){
                      setTimeout($.proxy(self.refresh, self), 10);
              });
      },

      // set button width
      _setButtonWidth: function(){
              var width = this.element.outerWidth(),
                      o = this.options;

              if( /\d/.test(o.minWidth) &amp;&amp; width &lt; o.minWidth){
                      width = o.minWidth;
              }

              // set widths
              this.button.width( width );
      },

      // set menu width
      _setMenuWidth: function(){
              var m = this.menu,
                      width = this.button.outerWidth()-
                              parseInt(m.css(&#39;padding-left&#39;),10)-
                              parseInt(m.css(&#39;padding-right&#39;),10)-
                              parseInt(m.css(&#39;border-right-width&#39;),10)-
                              parseInt(m.css(&#39;border-left-width&#39;),10);

              m.width( width || this.button.outerWidth() );
      },

      // move up or down within the menu
      _traverse: function( which, start ){
              var $start = $(start),
                      moveToLast = which === 38 || which === 37,

                      // select the first li that isn&#39;t an optgroup label / disabled
                      $next = $start.parent()[moveToLast ? &#39;prevAll&#39; : &#39;nextAll&#39;](&#39;li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)&#39;)[ moveToLast ? &#39;last&#39; : &#39;first&#39;]();

              // if at the first/last element
              if( !$next.length ){
                      var $container = this.menu.find(&#39;ul&#39;).last();

                      // move to the first/last
                      this.menu.find(&#39;label&#39;)[ moveToLast ? &#39;last&#39; : &#39;first&#39; ]().trigger(&#39;mouseover&#39;);

                      // set scroll position
                      $container.scrollTop( moveToLast ? $container.height() : 0 );

              } else {
                      $next.find(&#39;label&#39;).trigger(&#39;mouseover&#39;);
              }
      },

      // This is an internal function to toggle the checked property and
      // other related attributes of a checkbox.
      //
      // The context of this function should be a checkbox; do not proxy it.
      _toggleState: function( prop, flag ){
              return function(){
                      if( !this.disabled ) {
                              this[ prop ] = flag;
                      }

                      if( flag ){
                              this.setAttribute(&#39;aria-selected&#39;, true);
                      } else {
                              this.removeAttribute(&#39;aria-selected&#39;);
                      }
              };
      },

      _toggleChecked: function( flag, group ){
              var $inputs = (group &amp;&amp; group.length) ?  group : this.inputs,
                      self = this;

              // toggle state on inputs
              $inputs.each(this._toggleState(&#39;checked&#39;, flag));

              // give the first input focus
              $inputs.eq(0).focus();

              // update button text
              this.update();

              // gather an array of the values that actually changed
              var values = $inputs.map(function(){
                      return this.value;
              }).get();

              // toggle state on original option tags
              this.element
                      .find(&#39;option&#39;)
                      .each(function(){
                              if( !this.disabled &amp;&amp; $.inArray(this.value, values) &gt; -1 ){
                                      self._toggleState(&#39;selected&#39;, flag).call( this );
                              }
                      });

              // trigger the change event on the select
              if( $inputs.length ) {
                      this.element.trigger(&quot;change&quot;);
              }
      },

      _toggleDisabled: function( flag ){
              this.button
                      .attr({ &#39;disabled&#39;:flag, &#39;aria-disabled&#39;:flag })[ flag ? &#39;addClass&#39; : &#39;removeClass&#39; ](&#39;ui-state-disabled&#39;);

              var inputs = this.menu.find(&#39;input&#39;);
              var key = &quot;ech-multiselect-disabled&quot;;

              if(flag) {
                      // remember which elements this widget disabled (not pre-disabled)
                      // elements, so that they can be restored if the widget is re-enabled.
                      inputs = inputs.filter(&#39;:enabled&#39;)
                              .data(key, true)
              } else {
                      inputs = inputs.filter(function() {
                              return $.data(this, key) === true;
                      }).removeData(key);
              }

              inputs
                      .attr({ &#39;disabled&#39;:flag, &#39;arial-disabled&#39;:flag })
                      .parent()[ flag ? &#39;addClass&#39; : &#39;removeClass&#39; ](&#39;ui-state-disabled&#39;);

              this.element
                      .attr({ &#39;disabled&#39;:flag, &#39;aria-disabled&#39;:flag });
      },

      // open the menu
      open: function( e ){
              var self = this,
                      button = this.button,
                      menu = this.menu,
                      speed = this.speed,
                      o = this.options,
                      args = [];

              // bail if the multiselectopen event returns false, this widget is disabled, or is already open
              if( this._trigger(&#39;beforeopen&#39;) === false || button.hasClass(&#39;ui-state-disabled&#39;) || this._isOpen ){
                      return;
              }

              var $container = menu.find(&#39;ul&#39;).last(),
                      effect = o.show,
                      pos = button.offset();

              // figure out opening effects/speeds
              if( $.isArray(o.show) ){
                      effect = o.show[0];
                      speed = o.show[1] || self.speed;
              }

              // if there&#39;s an effect, assume jQuery UI is in use
              // build the arguments to pass to show()
              if( effect ) {
    args = [ effect, speed ];
              }

              // set the scroll of the checkbox container
              $container.scrollTop(0).height(o.height);

              // position and show menu
              if( $.ui.position &amp;&amp; !$.isEmptyObject(o.position) ){
                      o.position.of = o.position.of || button;

                      menu
                              .show()
                              .position( o.position )
                              .hide();

              // if position utility is not available...
              } else {
                      menu.css({
                              top: pos.top + button.outerHeight(),
                              left: pos.left
                      });
              }

              // show the menu, maybe with a speed/effect combo
              $.fn.show.apply(menu, args);

              // select the first option
              // triggering both mouseover and mouseover because 1.4.2+ has a bug where triggering mouseover
              // will actually trigger mouseenter.  the mouseenter trigger is there for when it&#39;s eventually fixed
              this.labels.eq(0).trigger(&#39;mouseover&#39;).trigger(&#39;mouseenter&#39;).find(&#39;input&#39;).trigger(&#39;focus&#39;);

              button.addClass(&#39;ui-state-active&#39;);
              this._isOpen = true;
              this._trigger(&#39;open&#39;);
      },

      // close the menu
      close: function(){
              if(this._trigger(&#39;beforeclose&#39;) === false){
                      return;
              }

              var o = this.options,
                  effect = o.hide,
                  speed = this.speed,
                  args = [];

              // figure out opening effects/speeds
              if( $.isArray(o.hide) ){
                      effect = o.hide[0];
                      speed = o.hide[1] || this.speed;
              }

  if( effect ) {
    args = [ effect, speed ];
  }

  $.fn.hide.apply(this.menu, args);
              this.button.removeClass(&#39;ui-state-active&#39;).trigger(&#39;blur&#39;).trigger(&#39;mouseleave&#39;);
              this._isOpen = false;
              this._trigger(&#39;close&#39;);
      },

      enable: function(){
              this._toggleDisabled(false);
      },

      disable: function(){
              this._toggleDisabled(true);
      },

      checkAll: function( e ){
              this._toggleChecked(true);
              this._trigger(&#39;checkAll&#39;);
      },

      uncheckAll: function(){
              this._toggleChecked(false);
              this._trigger(&#39;uncheckAll&#39;);
      },

      getChecked: function(){
              return this.menu.find(&#39;input&#39;).filter(&#39;:checked&#39;);
      },

      destroy: function(){
              // remove classes + data
              $.Widget.prototype.destroy.call( this );

              this.button.remove();
              this.menu.remove();
              this.element.show();

              return this;
      },

      isOpen: function(){
              return this._isOpen;
      },

      widget: function(){
              return this.menu;
      },

      getButton: function(){
        return this.button;
},

      // react to option changes after initialization
      _setOption: function( key, value ){
              var menu = this.menu;

              switch(key){
                      case &#39;header&#39;:
                              menu.find(&#39;div.ui-multiselect-header&#39;)[ value ? &#39;show&#39; : &#39;hide&#39; ]();
                              break;
                      case &#39;checkAllText&#39;:
                              menu.find(&#39;a.ui-multiselect-all span&#39;).eq(-1).text(value);
                              break;
                      case &#39;uncheckAllText&#39;:
                              menu.find(&#39;a.ui-multiselect-none span&#39;).eq(-1).text(value);
                              break;
                      case &#39;height&#39;:
                              menu.find(&#39;ul&#39;).last().height( parseInt(value,10) );
                              break;
                      case &#39;minWidth&#39;:
                              this.options[ key ] = parseInt(value,10);
                              this._setButtonWidth();
                              this._setMenuWidth();
                              break;
                      case &#39;selectedText&#39;:
                      case &#39;selectedList&#39;:
                      case &#39;noneSelectedText&#39;:
                              this.options[key] = value; // these all needs to update immediately for the update() call
                              this.update();
                              break;
                      case &#39;classes&#39;:
                              menu.add(this.button).removeClass(this.options.classes).addClass(value);
                              break;
                      case &#39;multiple&#39;:
                              menu.toggleClass(&#39;ui-multiselect-single&#39;, !value);
                              this.options.multiple = value;
                              this.element[0].multiple = value;
                              this.refresh();
              }

              $.Widget.prototype._setOption.apply( this, arguments );
      }</pre>

<p>});</p>

<p>})(jQuery);</p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

